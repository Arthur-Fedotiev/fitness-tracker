<main fxLayout="row nowrap" fxLayoutAlign="center">
  <section
    class="create-exercise"
    fxFlex="50%"
    fxFlex.xs="90%"
    fxFlex.sm="60%"
    fxFlex.md="75"
  >
    <h3>Create New Exercise</h3>

    <form [formGroup]="exerciseForm" ftE2e="exerciseCreateAndEditForm">
      <mat-form-field appearance="outline">
        <input
          placeholder="Exercise name"
          matInput
          formControlName="name"
          ftE2e="exerciseNameInput"
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-select
          placeholder="Select Exercise Type"
          formControlName="exerciseType"
          ftE2e="exerciseTypeSelect"
        >
          <mat-option
            *ngFor="
              let exerciseType of exerciseDescriptors.exerciseTypes;
              trackBy: trackByIndex
            "
            [value]="exerciseType"
            >{{
              'EXERCISE-TYPES.' + exerciseType | translate | titlecase
            }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-select
          placeholder="Select target muscle"
          formControlName="targetMuscle"
          ftE2e="exerciseTargetMuscleSelect"
        >
          <mat-option
            *ngFor="
              let muscle of exerciseDescriptors.muscles;
              trackBy: trackByIndex
            "
            [value]="muscle"
            >{{ 'MUSCLES.' + muscle | translate | titlecase }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-select
          placeholder="Select Equipment"
          formControlName="equipment"
          ftE2e="exerciseEquipmentSelect"
        >
          >
          <mat-option
            *ngFor="
              let equipmentItem of exerciseDescriptors.equipment;
              trackBy: trackByIndex
            "
            [value]="equipmentItem"
            >{{
              'EQUIPMENT.' + equipmentItem | translate | titlecase
            }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          placeholder="Cover image url"
          matInput
          formControlName="coverUrl"
          ftE2e="exerciseCoverUrlInput"
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          placeholder="Cover secondary url"
          matInput
          formControlName="coverSecondaryUrl"
          ftE2e="exerciseCoverSecondaryUrlInput"
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          placeholder="Avatar url"
          matInput
          formControlName="avatarUrl"
          ftE2e="exerciseAvatarUrlInput"
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          placeholder="Avatar secondary url"
          matInput
          formControlName="avatarSecondaryUrl"
          ftE2e="exerciseAvatarSecondaryUrlInput"
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Rating</mat-label>
        <input
          #rating
          type="number"
          step="0.1"
          formControlName="rating"
          matInput
          required
          ftE2e="exerciseRatingInput"
        />
      </mat-form-field>
      <mat-slider
        thumbLabel
        ftE2e="exerciseRatingSlider"
        [min]="0"
        [max]="10"
        [step]="0.1"
        [value]="ratingControl.value"
        (change)="ratingChange($event.value)"
      ></mat-slider>
      <mat-form-field appearance="outline">
        <textarea
          matInput
          placeholder="Exercise short description"
          formControlName="shortDescription"
          ftE2e="exerciseShortDescriptionInput"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <textarea
          matInput
          placeholder="Exercise long description"
          formControlName="longDescription"
          ftE2e="exerciseLongDescriptionInput"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <textarea
          matInput
          placeholder="Benefits"
          formControlName="benefits"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <textarea
          matInput
          placeholder="Exercise instructions"
          formControlName="instructions"
          ftE2e="exerciseInstructionsInput"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          placeholder="Instructions video"
          matInput
          formControlName="instructionVideo"
          ftE2e="exerciseInstructionVideoInput"
        />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <input
          placeholder="Muscle diagram video"
          matInput
          formControlName="muscleDiagramUrl"
          ftE2e="exerciseMuscleDiagramUrlInput"
        />
      </mat-form-field>
      <button
        mat-raised-button
        color="warn"
        ftE2e="saveExerciseBtn"
        [disabled]="!exerciseForm.valid || !exerciseForm.dirty"
        (click)="onSave()"
      >
        SAVE
      </button>
    </form>
  </section>
</main>
