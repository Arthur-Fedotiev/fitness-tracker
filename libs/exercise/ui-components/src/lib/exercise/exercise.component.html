<mat-card
  class="card mat-elevation-z8"
  tabindex="0"
  [class]="exercise.isSelected ? ['contrast', 'accent'] : []"
  >
  <mat-card-title-group>
    <img
      class="avatar"
      mat-card-sm-image
      [ngSrc]="exercise.avatarUrl ?? avatarFallback"
      [priority]="exercise.hasPriority"
      width="80"
      height="80"
      alt="{{ exercise.name }} primary image"
      />
    <img
      class="avatar avatar--secondary"
      mat-card-sm-image
      [ngSrc]="exercise.avatarSecondaryUrl ?? secondaryAvatarFallback"
      ftWithFallback
      [priority]="exercise.hasPriority"
      alt="{{ exercise.name }} secondary image"
      width="80"
      height="80"
      />
    <mat-card-title class="card__title">
      <span ftE2e="exerciseName">{{ exercise.name }}</span>
    </mat-card-title>
  </mat-card-title-group>
  <mat-card-content>
    <div class="subtitle-item">
      <p translate>EXERCISE.targetMuscle</p>
      <p ftE2e="exerciseTargetMuscle">
        {{ 'MUSCLES.' + exercise.targetMuscle | translate | titlecase }}
      </p>
    </div>
    <div class="subtitle-item">
      <p translate>EXERCISE.equipment</p>
      <p>{{ 'EQUIPMENT.' + exercise.equipment | translate }}</p>
    </div>
    <div class="subtitle-item">
      <p translate>EXERCISE.exerciseType</p>
      <p>{{ 'EXERCISE-TYPES.' + exercise.exerciseType | translate }}</p>
    </div>
  </mat-card-content>
  <mat-card-actions class="exercise-actions" (click)="$event.stopPropagation()">
    <button
      mat-stroked-button
      color="accent"
      ftE2e="exerciseViewBtn"
      (click)="viewExercise(exercise)"
      >
      {{ 'EXERCISE.viewBtn' | translate }}
    </button>

    @if (exercise.canEdit) {
      <button
        mat-stroked-button
        color="primary"
        ftE2e="editExerciseBtn"
        (click)="editExercise(exercise)"
        >
        {{ 'EXERCISE.editBtn' | translate }}
      </button>
    }
    @if (exercise.canDelete) {
      <button
        mat-mini-fab
        color="warn"
        ftE2e="deleteExerciseBtn"
        (click)="deleteExercise(exercise)"
        >
        <mat-icon>delete</mat-icon>
      </button>
    }
  </mat-card-actions>
</mat-card>
