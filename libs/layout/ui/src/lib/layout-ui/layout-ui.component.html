<mat-sidenav-container fullscreen>
  <mat-sidenav #start
               (click)="start.close()">
    <ng-container *ngTemplateOutlet="navList; context: {$implicit: 'column'}"></ng-container>


  </mat-sidenav>

  <mat-toolbar color="primary">
    <div fxHide.gt-sm
         class="toolbar-tools">
      <button mat-icon-button
              (click)="start.open('mouse')">
        <mat-icon>menu</mat-icon>
      </button>

      <div class="filler"></div>
    </div>

    <ng-container *ngTemplateOutlet="navList; context: {$implicit: 'row'}"></ng-container>

  </mat-toolbar>

  <ng-content></ng-content>
</mat-sidenav-container>

<ng-template #navList
             let-layout
             let-isDesktop>
  <mat-nav-list [fxLayout]="layout"
                [fxHide.lt-md]="layout === 'row'"
                [class]="{'horizontal': layout === 'row'}">
    <a mat-list-item
       [routerLink]="['exercises', 'all']">
      <mat-icon>library_books</mat-icon>
      <span>Exercises</span>
    </a>

    <a mat-list-item
       [routerLink]="['exercises', 'create']">
      <mat-icon>add_circle_outline</mat-icon>
      <span>Create exercise</span>
    </a>

    <a mat-list-item
       [routerLink]="['create-user']">
      <mat-icon>add_circle_outline</mat-icon>
      <span>Create User</span>
    </a>

    <a *ngIf="isLoggedOut"
       mat-list-item
       [routerLink]="['auth', 'login']">
      <mat-icon>account_circle</mat-icon>
      <span>Login</span>
    </a>

    <a *ngIf="isLoggedIn"
       mat-list-item
       (click)="logOut()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Logout</span>
    </a>

    <ng-container *ngIf="photoUrl">
      <img [src]="photoUrl"
           class="user-avatar" />
    </ng-container>
  </mat-nav-list>
</ng-template>
